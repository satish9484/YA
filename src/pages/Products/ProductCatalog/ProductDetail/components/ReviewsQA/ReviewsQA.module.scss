// src/pages/Products/ProductCatalog/ProductDetail/components/ReviewsQA/ReviewsQA.module.scss

// =============================================================================
// REVIEWS & Q&A SECTION - MODERN REDESIGN
// =============================================================================

.reviewsQaSection {
    padding: $spacing-16 0;
    background: linear-gradient(135deg, color(bg-secondary) 0%, color(bg-primary) 100%);
    position: relative;
    overflow: hidden;

    // Subtle accent line
    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 4px;
        background: linear-gradient(90deg, transparent, color(accent-primary), transparent);
        border-radius: 0 0 2px 2px;
    }

    @include respond-to('md') {
        padding: $spacing-20 0;
    }

    // Section Header
    .sectionHeader {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: $spacing-4;
        margin-bottom: $spacing-8;
        padding: $spacing-8;
        background: color(bg-primary);

        border-radius: $border-radius-xl;
        @include box-shadow($shadow-lg);
        border: 1px solid color(border-primary);

        // Responsive Design - Mobile First Approach
        @include respond-to('xs') {
            flex-direction: column;
            gap: $spacing-6;
        }

        @include respond-to('md') {
            flex-direction: row;
            padding: $spacing-12;
            gap: $spacing-8;
        }

        @include respond-to('lg') {
            padding: $spacing-16;
        }

        .headerContent {
            flex: 1;

            .sectionTitle {
                color: color(text-primary);
                margin-bottom: $spacing-2;
                font-weight: 700;
                font-size: 2rem;
                text-align: center;
                background: linear-gradient(
                    135deg,
                    color(text-primary) 0%,
                    color(accent-primary) 100%
                );
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;

                // Responsive typography
                @include respond-to('sm') {
                    text-align: left;
                    font-size: 2.5rem;
                }

                @include respond-to('md') {
                    font-size: 3rem;
                }

                @include respond-to('lg') {
                    font-size: 3.5rem;
                }
            }

            .sectionSubtitle {
                color: color(text-secondary);
                font-size: $font-size-base;
                text-align: center;
                max-width: 100%;

                // Responsive adjustments
                @include respond-to('sm') {
                    text-align: left;
                    font-size: $font-size-lg;
                    max-width: 500px;
                }

                @include respond-to('md') {
                    max-width: 600px;
                }
            }
        }

        .headerStats {
            display: flex;
            justify-content: center;
            width: 100%;

            // Responsive adjustments for header stats
            @include respond-to('sm') {
                justify-content: flex-end;
                width: auto;
                min-width: 200px;
            }

            @include respond-to('md') {
                min-width: 250px;
            }

            .overallRating {
                text-align: center;
                padding: $spacing-4;
                background: color(bg-secondary);
                border-radius: $border-radius-lg;
                border: 1px solid color(border-primary);
                display: flex;
                align-items: center;
                justify-content: center;
                gap: $spacing-4;
                flex-wrap: wrap;

                .ratingNumber {
                    font-size: 3.5rem;
                    font-weight: 700;
                    color: color(accent-primary);
                    line-height: 1;
                }

                .ratingStars {
                    .ant-rate {
                        font-size: 1.5rem;
                    }
                }

                .ratingCount {
                    color: color(text-secondary);
                    font-size: $font-size-sm;
                    white-space: nowrap;
                }

                // Responsive layout
                @include respond-to('md') {
                    flex-direction: column;
                    gap: $spacing-2;

                    .ratingNumber {
                        font-size: 3rem;
                    }

                    .ratingStars {
                        .ant-rate {
                            font-size: 1.25rem;
                        }
                    }
                }

                @include respond-to('sm') {
                    .ratingNumber {
                        font-size: 2.5rem;
                    }

                    .ratingStars {
                        .ant-rate {
                            font-size: 1rem;
                        }
                    }

                    .ratingCount {
                        font-size: $font-size-xs;
                    }
                }
            }
        }

        @include respond-to('md') {
            flex-direction: row;
            gap: $spacing-6;

            .headerStats {
                align-self: center;
            }
        }
    }

    // Tab Navigation
    .tabNavigation {
        margin-bottom: $spacing-8;

        .tabButtons {
            display: flex;
            gap: $spacing-2;
            background: color(bg-primary);
            padding: $spacing-2;
            border-radius: $border-radius-lg;
            @include box-shadow($shadow-sm);
            border: 1px solid color(border-primary);

            .tabButton {
                flex: 1;
                height: 48px;
                border-radius: $border-radius-md;
                font-weight: 600;
                transition: all 0.3s ease;

                &.ant-btn-primary {
                    background: color(accent-primary);
                    border-color: color(accent-primary);
                    @include box-shadow($shadow-md);
                }

                &:not(.ant-btn-primary) {
                    background: transparent;
                    border-color: transparent;
                    color: color(text-secondary);

                    &:hover {
                        background: color(bg-secondary);
                        color: color(text-primary);
                    }
                }
            }
        }
    }

    // Reviews Tab
    .reviewsTab {
        .reviewsHeader {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: $spacing-6;
            padding: $spacing-6;
            background: color(bg-primary);
            border-radius: $border-radius-lg;
            @include box-shadow($shadow-sm);
            border: 1px solid color(border-primary);

            .reviewsTitleGroup {
                flex: 1;

                .reviewsTitle {
                    color: color(text-primary);
                    margin-bottom: $spacing-1;
                    font-weight: 600;
                }

                .reviewsSubtitle {
                    color: color(text-secondary);
                    font-size: $font-size-base;
                }
            }

            .reviewsControls {
                .controlsGroup {
                    display: flex;
                    gap: $spacing-3;
                    flex-wrap: wrap;

                    .filterSelect,
                    .sortSelect {
                        min-width: 150px;

                        .ant-select-selector {
                            border-radius: $border-radius-md;
                            border-color: color(border-primary);
                            background: color(bg-primary);

                            &:hover {
                                border-color: color(accent-primary);
                            }
                        }
                    }
                }
            }

            @include respond-to('md') {
                flex-direction: column;
                gap: $spacing-4;

                .reviewsControls {
                    width: 100%;

                    .controlsGroup {
                        width: 100%;
                        justify-content: space-between;

                        .filterSelect,
                        .sortSelect {
                            flex: 1;
                        }
                    }
                }
            }
        }

        // Rating Breakdown
        .ratingBreakdown {
            background: color(bg-primary);
            border-radius: $border-radius-lg;
            padding: $spacing-6;
            margin-bottom: $spacing-6;
            @include box-shadow($shadow-sm);
            border: 1px solid color(border-primary);

            .breakdownHeader {
                margin-bottom: $spacing-4;

                .breakdownTitle {
                    color: color(text-primary);
                    font-weight: 600;
                    font-size: $font-size-lg;
                }
            }

            .breakdownBars {
                display: flex;
                flex-direction: column;
                gap: $spacing-4;

                .ratingBar {
                    display: flex;
                    flex-direction: row;
                    align-items: center;
                    gap: $spacing-4;

                    .starLabel {
                        display: flex;
                        align-items: center;
                        gap: $spacing-1;
                        min-width: 50px;

                        .starNumber {
                            font-weight: 600;
                            color: color(text-primary);
                            font-size: $font-size-base;
                        }

                        .starIcon {
                            color: color(accent-primary);
                            font-size: $font-size-base;
                        }
                    }

                    .progressContainer {
                        flex: 1;
                        min-width: 0;

                        .ratingProgress {
                            .ant-progress-bg {
                                background: linear-gradient(
                                    90deg,
                                    color(accent-primary) 0%,
                                    #ffed4e 100%
                                );
                                height: 12px;
                                border-radius: 6px;
                            }

                            .ant-progress-outer {
                                .ant-progress-inner {
                                    background-color: rgba(255, 255, 255, 0.1);
                                    border-radius: 6px;
                                }
                            }
                        }
                    }

                    .starCount {
                        display: flex;
                        align-items: center;
                        gap: $spacing-1;
                        min-width: 90px;

                        .countNumber {
                            font-weight: 600;
                            color: color(text-primary);
                            font-size: $font-size-sm;
                        }

                        .countLabel {
                            color: color(text-secondary);
                            font-size: $font-size-xs;
                        }
                    }
                }
            }
        }

        // Search Section
        .searchSection {
            margin-bottom: $spacing-6;

            .searchInput {
                height: 48px;
                border-radius: $border-radius-lg;
                border-color: color(border-primary);

                &:hover,
                &:focus {
                    border-color: color(accent-primary);
                    box-shadow: 0 0 0 2px color(accent-focus-ring);
                }

                .ant-input-prefix {
                    color: color(text-tertiary);
                }
            }
        }

        // Reviews List
        .reviewsList {
            .reviewCard {
                margin-bottom: $spacing-6;
                border-radius: $border-radius-lg;
                @include box-shadow($shadow-sm);
                border: 1px solid color(border-primary);
                transition: all 0.3s ease;
                background: color(bg-primary);
                overflow: hidden;

                &:hover {
                    @include box-shadow($shadow-lg);
                    transform: translateY(-2px);
                    border-color: color(accent-primary);
                }

                .reviewCardHeader {
                    display: flex;
                    justify-content: space-between;
                    align-items: flex-start;
                    padding: $spacing-6 $spacing-6 0;
                    margin-bottom: $spacing-4;

                    .reviewerInfo {
                        display: flex;
                        gap: $spacing-3;
                        flex: 1;

                        .reviewerAvatar {
                            flex-shrink: 0;
                            background: color(accent-primary);
                            color: color(accent-contrast);
                        }

                        .reviewerDetails {
                            flex: 1;

                            .reviewerName {
                                display: flex;
                                align-items: center;
                                gap: $spacing-2;
                                margin-bottom: $spacing-1;

                                .name {
                                    color: color(text-primary);
                                    font-weight: 600;
                                }

                                .verifiedBadge {
                                    .ant-badge-count {
                                        background: color(success);
                                        color: color(success-contrast);
                                        border-radius: 50%;
                                        width: 16px;
                                        height: 16px;
                                        font-size: 10px;
                                        display: flex;
                                        align-items: center;
                                        justify-content: center;
                                    }
                                }
                            }

                            .reviewMeta {
                                display: flex;
                                align-items: center;
                                gap: $spacing-2;

                                .reviewRating {
                                    .ant-rate {
                                        font-size: $font-size-sm;
                                    }
                                }

                                .reviewDate {
                                    color: color(text-tertiary);
                                    font-size: $font-size-xs;
                                }
                            }
                        }
                    }

                    .reviewActions {
                        .actionBtn {
                            border: none;
                            background: transparent;
                            color: color(text-tertiary);
                            border-radius: $border-radius-md;

                            &:hover {
                                color: color(accent-primary);
                                background: color(bg-secondary);
                            }
                        }
                    }
                }

                .reviewContent {
                    padding: 0 $spacing-6;

                    .reviewTitle {
                        color: color(text-primary);
                        margin-bottom: $spacing-3;
                        font-weight: 600;
                    }

                    .reviewText {
                        color: color(text-secondary);
                        line-height: 1.6;
                        margin-bottom: $spacing-4;
                    }

                    .reviewImages {
                        display: flex;
                        gap: $spacing-2;
                        margin-bottom: $spacing-4;
                        flex-wrap: wrap;

                        .reviewImage {
                            border-radius: $border-radius-md;
                            cursor: pointer;
                            transition: transform 0.2s ease;

                            &:hover {
                                transform: scale(1.05);
                            }

                            .imageMask {
                                background: rgba(0, 0, 0, 0.5);
                                color: white;
                                font-size: $font-size-xs;
                                font-weight: 600;
                            }
                        }
                    }
                }

                // Seller Response
                .sellerResponse {
                    margin: $spacing-4 $spacing-6 0;
                    padding: $spacing-4;
                    background: color(bg-secondary);
                    border-radius: $border-radius-md;
                    border-left: 4px solid color(accent-primary);

                    .responseDivider {
                        margin: 0 0 $spacing-3 0;
                        border-color: color(border-primary);
                    }

                    .responseHeader {
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        margin-bottom: $spacing-2;

                        .responseLabel {
                            color: color(accent-primary);
                            font-weight: 600;
                            font-size: $font-size-sm;
                        }

                        .responseDate {
                            color: color(text-tertiary);
                            font-size: $font-size-xs;
                        }
                    }

                    .responseText {
                        color: color(text-secondary);
                        line-height: 1.6;
                        margin: 0;
                    }
                }

                .reviewFooter {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: $spacing-4 $spacing-6 $spacing-6;
                    border-top: 1px solid color(border-primary);
                    margin-top: $spacing-4;

                    .reviewHelpful {
                        .helpfulBtn {
                            color: color(text-tertiary);
                            border: none;
                            background: transparent;
                            border-radius: $border-radius-md;

                            &:hover {
                                color: color(accent-primary);
                                background: color(bg-secondary);
                            }
                        }
                    }

                    .reviewResponse {
                        .responseBtn {
                            color: color(accent-primary);
                            padding: 0;

                            &:hover {
                                color: color(accent-primary);
                                text-decoration: underline;
                            }
                        }
                    }
                }
            }
        }

        .reviewsPagination {
            margin-top: $spacing-8;
            text-align: center;

            .ant-pagination {
                .ant-pagination-item {
                    border-radius: $border-radius-md;
                    border-color: color(border-primary);

                    &:hover,
                    &.ant-pagination-item-active {
                        border-color: color(accent-primary);
                        color: color(accent-primary);
                    }
                }

                .ant-pagination-prev,
                .ant-pagination-next {
                    border-radius: $border-radius-md;
                    border-color: color(border-primary);

                    &:hover {
                        border-color: color(accent-primary);
                        color: color(accent-primary);
                    }
                }
            }
        }
    }

    // Q&A Tab
    .qaTab {
        .qaHeader {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: $spacing-6;
            padding: $spacing-6;
            background: color(bg-primary);
            border-radius: $border-radius-lg;
            @include box-shadow($shadow-sm);
            border: 1px solid color(border-primary);

            .qaTitleGroup {
                flex: 1;

                .qaTitle {
                    color: color(text-primary);
                    margin-bottom: $spacing-1;
                    font-weight: 600;
                }

                .qaSubtitle {
                    color: color(text-secondary);
                    font-size: $font-size-base;
                }
            }

            .askQuestionBtn {
                height: 48px;
                border-radius: $border-radius-lg;
                font-weight: 600;
                @include box-shadow($shadow-sm);

                &:hover {
                    @include box-shadow($shadow-md);
                    transform: translateY(-1px);
                }
            }

            @include respond-to('md') {
                flex-direction: column;
                gap: $spacing-4;

                .askQuestionBtn {
                    width: 100%;
                }
            }
        }

        .qaSearch {
            margin-bottom: $spacing-6;

            .qaSearchInput {
                height: 48px;
                border-radius: $border-radius-lg;
                border-color: color(border-primary);

                &:hover,
                &:focus {
                    border-color: color(accent-primary);
                    box-shadow: 0 0 0 2px color(accent-focus-ring);
                }

                .ant-input-prefix {
                    color: color(text-tertiary);
                }
            }
        }

        .qaList {
            .qaCard {
                margin-bottom: $spacing-4;
                border-radius: $border-radius-lg;
                @include box-shadow($shadow-sm);
                border: 1px solid color(border-primary);
                transition: all 0.3s ease;
                background: color(bg-primary);

                &:hover {
                    @include box-shadow($shadow-lg);
                    transform: translateY(-1px);
                    border-color: color(accent-primary);
                }

                .qaQuestion {
                    padding: $spacing-6 $spacing-6 0;

                    .qaQuestionHeader {
                        .qaQuestionText {
                            color: color(text-primary);
                            font-size: $font-size-base;
                            line-height: 1.5;
                            margin-bottom: $spacing-3;
                            display: block;
                            font-weight: 500;
                        }

                        .qaQuestionMeta {
                            display: flex;
                            align-items: center;
                            gap: $spacing-3;
                            margin-bottom: $spacing-4;

                            .qaCategory {
                                font-size: $font-size-xs;
                                padding: 2px 8px;
                                border-radius: $border-radius-sm;
                                background: color(accent-primary);
                                color: color(accent-contrast);
                                border: none;
                            }

                            .qaDate {
                                color: color(text-tertiary);
                                font-size: $font-size-xs;
                            }
                        }
                    }
                }

                .qaAnswer {
                    padding: 0 $spacing-6 $spacing-6;
                    border-top: 1px solid color(border-primary);
                    margin-top: $spacing-4;

                    .qaAnswerHeader {
                        margin-bottom: $spacing-3;

                        .qaAnswerLabel {
                            color: color(accent-primary);
                            font-size: $font-size-sm;
                            font-weight: 600;
                        }
                    }

                    .qaAnswerText {
                        color: color(text-secondary);
                        line-height: 1.6;
                        margin-bottom: $spacing-4;
                    }

                    .qaAnswerFooter {
                        display: flex;
                        justify-content: space-between;
                        align-items: center;

                        .qaHelpfulBtn {
                            color: color(text-tertiary);
                            border: none;
                            background: transparent;
                            border-radius: $border-radius-md;

                            &:hover {
                                color: color(accent-primary);
                                background: color(bg-secondary);
                            }
                        }

                        .ant-btn-link {
                            color: color(accent-primary);
                            padding: 0;

                            &:hover {
                                color: color(accent-primary);
                                text-decoration: underline;
                            }
                        }
                    }
                }
            }
        }

        .qaFooter {
            margin-top: $spacing-8;
            text-align: center;

            .loadMoreBtn {
                height: 48px;
                border-radius: $border-radius-lg;
                font-weight: 600;
                font-size: $font-size-base;
                padding: 0 $spacing-8;
            }
        }
    }

    // Responsive Design
    @include respond-to('md') {
        .sectionHeader {
            .headerContent {
                .sectionTitle {
                    font-size: 2rem;
                }
            }
        }

        .reviewsTab {
            .reviewsList {
                .reviewCard {
                    .reviewCardHeader {
                        flex-direction: column;
                        align-items: flex-start;
                        gap: $spacing-3;

                        .reviewActions {
                            align-self: flex-end;
                        }
                    }
                }
            }
        }
    }

    @include respond-to('sm') {
        .ratingBreakdown {
            .breakdownBars {
                .ratingBar {
                    flex-direction: column;
                    align-items: flex-start;
                    gap: $spacing-2;

                    .starLabel {
                        min-width: auto;
                    }

                    .progressContainer {
                        width: 100%;
                        margin: 0;
                    }

                    .starCount {
                        min-width: auto;
                        align-self: flex-end;
                    }
                }
            }
        }
    }
}
