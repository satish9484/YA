/* =====================================================
  Product Pagination - Component Styles
  CRO-Optimized for User Experience
 ================================================================ */

.product-pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: nowrap;
    gap: $spacing-3;
    margin-top: $spacing-6;
    padding: $spacing-4 0;
    -webkit-overflow-scrolling: touch;

    // Size variants
    &--small {
        .ant-pagination-item,
        .ant-pagination-prev,
        .ant-pagination-next {
            min-width: 24px;
            height: 24px;
            font-size: $font-size-xs;
        }
    }

    &--large {
        .ant-pagination-item,
        .ant-pagination-prev,
        .ant-pagination-next {
            min-width: 40px;
            height: 40px;
            font-size: $font-size-lg;
        }
    }

    // Custom pagination styles with higher specificity
    ul.ant-pagination {
        display: flex;
        align-items: center;
        flex-wrap: nowrap;

        // FIX: Grouped common styles for items, prev, and next buttons to reduce duplication.
        .ant-pagination-item,
        .ant-pagination-prev,
        .ant-pagination-next {
            border: 2px solid color(border);
            border-radius: $border-radius-md;
            margin: 0 4px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            // FIX: Use flexbox for robust vertical and horizontal centering.
            display: flex;
            align-items: center;
            justify-content: center;

            &:hover {
                border-color: color(accent-primary);
                color: color(accent-primary);
                transform: translateY(-1px);
                box-shadow: 0 2px 8px rgba(color(accent-primary), 0.2);
            }

            // FIX: Added focus-visible for accessibility. Provides a clear outline for keyboard users.
            &:focus-visible {
                outline: none;
                border-color: color(accent-primary);
                box-shadow: 0 0 0 2px rgba(color(accent-primary), 0.3);
            }
        }

        .ant-pagination-item {
            &-active {
                background: linear-gradient(
                    135deg,
                    color(accent-primary) 0%,
                    color(primary-600) 100%
                );
                border-color: color(accent-primary);
                color: color(accent-contrast);
                font-weight: $font-weight-semibold;

                &:hover {
                    background: linear-gradient(
                        135deg,
                        color(primary-600) 0%,
                        color(accent-primary) 100%
                    );
                    transform: translateY(-1px);
                    box-shadow: 0 4px 12px rgba(color(accent-primary), 0.3);
                }
            }
        }

        .ant-pagination-prev,
        .ant-pagination-next {
            .ant-pagination-item-link {
                // FIX: Removed hardcoded size. It now correctly inherits from the parent.
                width: 100%;
                height: 100%;
                border-radius: inherit;
                color: color(text-primary);
                // FIX: Flex properties already on parent, this ensures icon is centered.
                display: flex;
                align-items: center;
                justify-content: center;
            }

            &:disabled {
                opacity: 0.4;
                cursor: not-allowed;
                transform: none;
                box-shadow: none;

                &:hover {
                    border-color: color(border);
                    color: color(text-disabled);
                }
            }
        }

        .ant-pagination-options {
            margin-left: $spacing-4;

            .ant-select {
                display: flex;
                justify-content: center;
                align-items: center;
                .ant-select-selector {
                    border: 2px solid color(border);
                    border-radius: $border-radius-md;
                    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

                    &:hover {
                        border-color: color(accent-primary);
                    }

                    &:focus,
                    &:focus-within {
                        border-color: color(accent-primary);
                        box-shadow: 0 0 0 2px rgba(color(accent-primary), 0.2);
                    }
                }
            }
        }

        li.ant-pagination-total-text {
            display: inline-block;
            height: 32px;
            margin-inline-end: 8px;
            line-height: 30px;
            vertical-align: middle;
            color: color(text-secondary);
            font-size: $font-size-sm;
            margin-right: $spacing-4;
            font-weight: 500;
            transition: color 0.2s ease-in-out;

            // Theme-aware text color support using global selectors
            :global([data-theme='light']) & {
                color: color(text-secondary, light);
            }

            :global([data-theme='dark']) & {
                color: color(text-secondary, dark);
            }

            // Hover state for better UX
            &:hover {
                color: color(text-interactive);
            }
        }
    }

    // Responsive design
    &--responsive {
        @include respond-to('sm') {
            .ant-pagination {
                .ant-pagination-options {
                    display: none;
                }

                .ant-pagination-total-text {
                    display: none;
                }
            }
        }

        @include respond-to('md') {
            .ant-pagination {
                .ant-pagination-options {
                    display: block;
                }

                .ant-pagination-total-text {
                    display: block;
                }
            }
        }
    }

    // Loading state
    &--loading {
        .ant-pagination {
            opacity: 0.6;
            pointer-events: none;
        }
    }

    // Error state
    &--error {
        .ant-pagination {
            opacity: 0.4;
            pointer-events: none;
        }
    }

    // Dark theme support
    [data-theme='dark'] & {
        ul.ant-pagination {
            color: color(text-secondary);
            .ant-pagination-item {
                background: color(bg-primary);
                border-color: color(border-primary);
                color: color(text-primary);

                &:hover {
                    background: color(bg-secondary);
                    border-color: color(accent-primary);
                    color: color(accent-primary);
                }

                &-active {
                    background: linear-gradient(
                        135deg,
                        color(accent-primary) 0%,
                        color(primary-600) 100%
                    );
                    border-color: color(accent-primary);
                    color: color(accent-primary);
                }
            }

            .ant-pagination-prev,
            .ant-pagination-next {
                background: color(bg-primary);
                border-color: color(border-primary);
                color: color(text-primary);

                &:hover {
                    background: color(bg-secondary);
                    border-color: color(accent-primary);
                    color: color(accent-primary);
                }

                &:disabled {
                    opacity: 0.4;
                    cursor: not-allowed;

                    &:hover {
                        background: color(bg-primary);
                        border-color: color(border-primary);
                        color: color(text-disabled);
                    }
                }
            }

            li.ant-pagination-total-text {
                display: inline-block;
                height: 32px;
                margin-inline-end: 8px;
                line-height: 30px;
                vertical-align: middle;
                font-weight: 500;
                transition: color 0.2s ease-in-out;

                // Hover state for better UX
                &:hover {
                    color: color(text-interactive);
                }
            }
        }
    }
}
